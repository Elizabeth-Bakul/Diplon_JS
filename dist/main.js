(()=>{"use strict";const e=(e,t,s)=>{const i=document.querySelectorAll(`.${t}`),o=document.querySelector(`.${e}`),n=document.querySelector(".modal-overlay"),l=document.querySelector(`.${s}`),a=document.querySelector(`.${e}`);let r,d=0;const c=()=>{d++,parseFloat(a.style.left)<55?a.style.left=d+"%":(clearInterval(r),d=0)};i.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),n.style.display="block",o.style.display="block",a.style.left="-50%",window.innerWidth>768?r=setInterval(c,10):a.style.left="58%"}))})),l.addEventListener("click",(()=>{o.style.display="none",n.style.display="none"})),n.addEventListener("click",(t=>{let i=t.target;!i.classList.contains(`${s}`)&&i.closest(`.${e}`)||(o.style.display="none",n.style.display="none")}))},t=(e,t)=>{const s=document.getElementById(e),i=document.createElement("div"),o=document.querySelector(`.${t}`),n=document.querySelector(".modal-overlay"),l=document.querySelectorAll(`#${e} input`);i.style.cssText="text-align: center; color: black",s.addEventListener("input",(e=>{e.target.matches('input[name="tel"]')&&(e.target.setAttribute("pattern","^[0-9+]{11,18}$"),e.target.value=e.target.value.replace(/[^\d\+]/g,""))})),s.addEventListener("input",(e=>{e.target.matches('input[name="fio"]')&&(e.target.setAttribute("pattern","[А-Яа-яЁё ]{2,}"),e.target.value=e.target.value.replace(/[^А-Яа-яЁё\s]|/g,""))})),s.addEventListener("input",(e=>{e.target.matches('input[name="message"]')&&(e.target.value=e.target.value.replace(/[^А-Яа-яЁё\d\s,\.\?\(\)\*\+\$-:;!'"@&%#№]/g,""))})),s.addEventListener("submit",(e=>{e.preventDefault(),s.append(i),i.textContent="Загрузка...";const t=new FormData(s);let a={};var r;t.forEach(((e,t)=>a[t]=e)),(r=a,new Promise(((e,t)=>{const s=new XMLHttpRequest;s.addEventListener("readystatechange",(()=>{4===s.readyState&&(200===s.status?e():t(s.statusText))})),s.open("POST","server.php"),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(r))}))).then((()=>{i.textContent="Спасибо! Мы скоро с вами свяжемся!",setTimeout((()=>{n.style.display="none",o.style.display="none"}),7e3)})).catch((e=>{i.textContent="Ошибка",console.log(e)})),l.forEach((e=>e.value="")),setTimeout((()=>i.remove()),5e3)}))};e("modal-callback","callback-btn","modal-close"),e("modal-feedback","button-services","modal-close2"),e("modal-application","absolute","modal-close3"),(()=>{const e=document.querySelector(".top-menu").querySelectorAll("a");for(const t of e)t.addEventListener("click",(e=>{e.preventDefault();const s=t.getAttribute("href");if("#callback"!==s){let e=-100,t=document.querySelector(s).getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:t,behavior:"smooth"})}}))})(),(()=>{const e=document.querySelectorAll(".item"),t=document.querySelector(".top-slider"),s=document.querySelectorAll(".table"),i=document.querySelector(".slick-dots");let o,n=0;e.forEach(((e,t)=>{let s=document.createElement("li");0===t?(s.classList.add("dot"),s.classList.add("slick-active")):s.classList.add("dot"),i.append(s)}));let l=document.querySelectorAll(".dot");const a=(e,t,s)=>{e[t].classList.remove(s)},r=(e,t,s)=>{e[t].classList.add(s)},d=()=>{a(e,n,"item-active"),a(l,n,"slick-active"),a(l,n,"active"),n++,n===e.length&&(n=0),r(e,n,"item-active"),r(l,n,"slick-active"),r(s,n,"active")},c=()=>{o=setInterval(d,3e3)};c(),t.addEventListener("mouseover",(e=>{e.target.matches(".dot")&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{e.target.matches(".dot")&&c()})),t.addEventListener("click",(t=>{t.preventDefault();let i=t.target;i.matches(".dot")&&(a(l,n,"slick-active"),a(e,n,"item-active"),a(s,n,"active"),i.matches(".dot")&&l.forEach(((e,t)=>{e===i&&(n=t)})),n>=e.length?n=0:n<0&&(n=e.length-1),r(e,n,"item-active"),r(l,n,"slick-active"),r(s,n,"active"))}))})(),(()=>{let e=document.querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{t.addEventListener("click",(function(){let t=this.querySelector(".element-content");this.classList.contains("active")?(this.classList.remove("active"),t.style.display="none"):(e.forEach((e=>{e.classList.remove("active"),e.querySelector(".element-content").style.display="none"})),this.classList.add("active"),t.style.display="block")}))}))})(),(()=>{const e=()=>{let e=window.pageYOffset,s=document.querySelector(".header-wrapper").clientHeight+document.querySelector(".top-slider").clientHeight;e>s&&t.classList.add("up-show"),e<s&&t.classList.remove("up-show")};let t=document.querySelector(".up");e(),window.addEventListener("scroll",e),t.addEventListener("click",(()=>{document.querySelector("body").scrollIntoView({behavior:"smooth",block:"start"})}))})(),t("form1","modal-callback"),t("form2","modal-feedback"),t("form3","modal-application"),new class{constructor({main:e,wrap:t,next:s,prev:i,infinity:o=!1,position:n=0,slidesToShow:l=3,responsive:a=[]}){e&&t||console.warn('slider-carusel: Необходимо 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(s),this.prev=document.querySelector(i),this.slidesToShow=l,this.options={position:n,infinity:o,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=a}init(){this.addGloClass(),this.addStyle(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){let e=document.getElementById("sliderCarusel-style");e||(e=document.createElement("style"),e.id="sliderCarusel-style"),document.head.appendChild(e),e.textContent=`\n      .glo-slider {\n        overflow: hidden !important;\n      }\n      .glo-slider__wrap {\n        display: flex !important;\n        transition: transform 0.5s !important;\n        will-change: transform !important;\n      }\n      .glo-slider__item {\n        flex: 0 0 ${this.options.widthSlide}% !important;\n        margin: auto 0 !important;\n      }\n    `}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),s=Math.max(...t),i=()=>{const i=document.documentElement.clientWidth;if(i<s)for(let e=0;e<t.length;e++)i<t[e]&&(this.slidesToShow=this.responsive[e].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};i(),window.addEventListener("resize",i)}}({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init()})();